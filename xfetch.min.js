((a,b)=>{"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.xf=b()})(this,()=>{class a extends Error{constructor(a){super(a.statusText),this.name="HTTPError",this.response=a}}const b=["get","post","put","patch","delete","head"],c=["arrayBuffer","blob","formData","json","text"],d=a=>[...a.entries()].reduce((a,[b,c])=>(a[b]=c,a),{}),e=a=>new URLSearchParams(a).toString(),f=a=>d(new URLSearchParams(a)),g=(h,i={})=>{const j=(b,g={})=>{Object.assign(g,i);const j=new URL(b,g.baseURI||void 0);g.headers||(g.headers={}),g.json?(g.body=JSON.stringify(g.json),g.headers["Content-Type"]="application/json"):g.form&&(g.body=e(g.form),g.headers["Content-Type"]="application/x-www-form-urlencoded"),g.qs&&("string"==typeof g.qs&&(g.qs=f(g.qs)),j.search=e(Object.assign(d(j.searchParams),g.qs))),g.credentials||(g.credentials="same-origin");const k=h(j,g).then(b=>{if(!b.ok)throw new a(b);return b});for(const a of c)k[a]=b=>k.then(b=>b[a]()).then(b||(a=>a));return k};for(const a of b)j[a]=(b,c={})=>(c.method=a,j(b,c));return j.create=g,j.extend=a=>g(h,a),j.HTTPError=a,j},h=g("undefined"==typeof fetch?null:fetch,{baseURI:"undefined"==typeof document?void 0:document.baseURI});return h});